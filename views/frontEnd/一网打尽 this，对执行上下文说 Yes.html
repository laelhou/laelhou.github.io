<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>一网打尽this | houliyun</title>
    <meta name="description" content="小憩时光">
    <meta name="generator" content="VuePress 1.4.0">
    <link rel="icon" href="/favicon.ico">
  <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">
    
    <link rel="preload" href="/assets/css/0.styles.8d27f62d.css" as="style"><link rel="preload" href="/assets/js/app.33e6ee8c.js" as="script"><link rel="preload" href="/assets/js/3.fa5d4a69.js" as="script"><link rel="preload" href="/assets/js/1.5b517cee.js" as="script"><link rel="preload" href="/assets/js/17.19ee5edd.js" as="script"><link rel="prefetch" href="/assets/js/10.84a19276.js"><link rel="prefetch" href="/assets/js/11.5288d5d8.js"><link rel="prefetch" href="/assets/js/12.c80fc34d.js"><link rel="prefetch" href="/assets/js/13.c41e8d7d.js"><link rel="prefetch" href="/assets/js/14.36927237.js"><link rel="prefetch" href="/assets/js/15.187e24cd.js"><link rel="prefetch" href="/assets/js/16.88d1324f.js"><link rel="prefetch" href="/assets/js/18.e7a58272.js"><link rel="prefetch" href="/assets/js/19.4e476ec2.js"><link rel="prefetch" href="/assets/js/20.d6c8bff6.js"><link rel="prefetch" href="/assets/js/21.44539f16.js"><link rel="prefetch" href="/assets/js/22.0da41f72.js"><link rel="prefetch" href="/assets/js/23.afa52023.js"><link rel="prefetch" href="/assets/js/24.678899cd.js"><link rel="prefetch" href="/assets/js/25.90f7f21c.js"><link rel="prefetch" href="/assets/js/26.be7b1a93.js"><link rel="prefetch" href="/assets/js/27.5d14fda3.js"><link rel="prefetch" href="/assets/js/4.cfe75700.js"><link rel="prefetch" href="/assets/js/5.d17fc465.js"><link rel="prefetch" href="/assets/js/6.abe4d6f6.js"><link rel="prefetch" href="/assets/js/7.e930e088.js"><link rel="prefetch" href="/assets/js/8.7e5bed3b.js"><link rel="prefetch" href="/assets/js/9.14294fc2.js">
    <link rel="stylesheet" href="/assets/css/0.styles.8d27f62d.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div><div class="theme-container" data-v-319dd33c><div data-v-319dd33c><div id="loader-wrapper" class="loading-wrapper" data-v-4b73742e data-v-319dd33c data-v-319dd33c><div class="loader-main" data-v-4b73742e><div data-v-4b73742e></div><div data-v-4b73742e></div><div data-v-4b73742e></div><div data-v-4b73742e></div></div> <!----> <!----></div> <div class="password-shadow password-wrapper-out" style="display:none;" data-v-1e2a0cc0 data-v-319dd33c data-v-319dd33c><h3 class="title" style="display:none;" data-v-1e2a0cc0 data-v-1e2a0cc0>houliyun</h3> <!----> <label id="box" class="inputBox" style="display:none;" data-v-1e2a0cc0 data-v-1e2a0cc0><input type="password" value="" data-v-1e2a0cc0> <span data-v-1e2a0cc0>Konck! Knock!</span> <button data-v-1e2a0cc0>OK</button></label> <div class="footer" style="display:none;" data-v-1e2a0cc0 data-v-1e2a0cc0><span data-v-1e2a0cc0><i class="iconfont reco-theme" data-v-1e2a0cc0></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-1e2a0cc0>vuePress-theme-reco</a></span> <span data-v-1e2a0cc0><i class="iconfont reco-copyright" data-v-1e2a0cc0></i> <a data-v-1e2a0cc0><span data-v-1e2a0cc0>lael</span>
            
          <span data-v-1e2a0cc0>2017 - </span>
          2020
        </a></span></div></div> <div class="hide" data-v-319dd33c><header class="navbar" data-v-319dd33c><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/logo.png" alt="houliyun" class="logo"> <span class="site-name">houliyun</span></a> <div class="links"><div class="color-picker"><a class="color-button"><i class="iconfont reco-color"></i></a> <div class="color-picker-menu" style="display:none;"><div class="mode-options"><h4 class="title">Choose mode</h4> <ul class="color-mode-options"><li class="dark">dark</li><li class="auto active">auto</li><li class="light">light</li></ul></div></div></div> <div class="search-box"><i class="iconfont reco-search"></i> <input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link"><i class="iconfont reco-home"></i>
  Home
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      文章
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/文章/" class="nav-link"><i class="iconfont undefined"></i>
  文章
</a></li></ul></div></div><div class="nav-item"><a href="/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  大前端
</a></div><div class="nav-item"><a href="/timeline/" class="nav-link"><i class="iconfont reco-date"></i>
  TimeLine
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont undefined"></i>
      技术论坛
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://juejin.im/user/5c2c9f69f265da611b5876ee" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont undefined"></i>
  掘金
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://www.yuque.com/u816382" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont undefined"></i>
  语雀
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask" data-v-319dd33c></div> <aside class="sidebar" data-v-319dd33c><div class="personal-info-wrapper" data-v-6c8ffc9c><img src="/avatar.png" alt="author-avatar" class="personal-img" data-v-6c8ffc9c> <h3 class="name" data-v-6c8ffc9c>
    lael
  </h3> <div class="num" data-v-6c8ffc9c><div data-v-6c8ffc9c><h3 data-v-6c8ffc9c>5</h3> <h6 data-v-6c8ffc9c>文章</h6></div> <div data-v-6c8ffc9c><h3 data-v-6c8ffc9c>3</h3> <h6 data-v-6c8ffc9c>标签</h6></div></div> <hr data-v-6c8ffc9c></div> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link"><i class="iconfont reco-home"></i>
  Home
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      文章
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/文章/" class="nav-link"><i class="iconfont undefined"></i>
  文章
</a></li></ul></div></div><div class="nav-item"><a href="/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  大前端
</a></div><div class="nav-item"><a href="/timeline/" class="nav-link"><i class="iconfont reco-date"></i>
  TimeLine
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont undefined"></i>
      技术论坛
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://juejin.im/user/5c2c9f69f265da611b5876ee" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont undefined"></i>
  掘金
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://www.yuque.com/u816382" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont undefined"></i>
  语雀
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>一网打尽this</span> <!----></p> <!----></section></li></ul> </aside> <div class="password-shadow password-wrapper-in" style="display:none;" data-v-1e2a0cc0 data-v-319dd33c><h3 class="title" style="display:none;" data-v-1e2a0cc0 data-v-1e2a0cc0>一网打尽this</h3> <!----> <label id="box" class="inputBox" style="display:none;" data-v-1e2a0cc0 data-v-1e2a0cc0><input type="password" value="" data-v-1e2a0cc0> <span data-v-1e2a0cc0>Konck! Knock!</span> <button data-v-1e2a0cc0>OK</button></label> <div class="footer" style="display:none;" data-v-1e2a0cc0 data-v-1e2a0cc0><span data-v-1e2a0cc0><i class="iconfont reco-theme" data-v-1e2a0cc0></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-1e2a0cc0>vuePress-theme-reco</a></span> <span data-v-1e2a0cc0><i class="iconfont reco-copyright" data-v-1e2a0cc0></i> <a data-v-1e2a0cc0><span data-v-1e2a0cc0>lael</span>
            
          <span data-v-1e2a0cc0>2017 - </span>
          2020
        </a></span></div></div> <div data-v-319dd33c><main class="page"><div class="page-title" style="display:none;"><h1>一网打尽this</h1> <hr> <div data-v-484a899e><i class="iconfont reco-account" data-v-484a899e><span data-v-484a899e>lael</span></i> <i class="iconfont reco-date" data-v-484a899e><span data-v-484a899e>2018-12-15</span></i> <!----> <i class="iconfont reco-tag tags" data-v-484a899e><span class="tag-item" data-v-484a899e>
      Markdown
    </span><span class="tag-item" data-v-484a899e>
      Promise
    </span><span class="tag-item" data-v-484a899e>
      JavaScript
    </span></i></div></div> <div class="theme-reco-content content__default" style="display:none;"><p>JavaScript 中的 <code>this</code>，因其灵活的指向、复杂的使用场景一直是面试中的热点，不论是初级还是中高级开发者，这都是一道必考题。这个概念虽然基础，但是非常重要，是否能深刻理解 <code>this</code>，是前端 JavaScript 中进阶的重要一环。<code>this</code> 指向多变，很多隐蔽的 bug 都缘于它。与此同时，<code>this</code> 强大灵活，如果能熟练驾驭，就会写出更简洁、优雅的代码。</p> <p>社区上对于 <code>this</code> 的讲解虽然不少，但缺乏统一梳理。本节课，让我们直面 <code>this</code> 的方方面面，并通过例题真正领会与掌握 <code>this</code>。</p> <p><code>this</code> 相关知识点如下：</p> <p><img src="https://images.gitbook.cn/be333ca0-4eca-11e9-b0b8-a9c8a3696845" alt="null"></p> <h3 id="this-到底指向谁"><a href="#this-到底指向谁" class="header-anchor">#</a> <font color="13aa6c">this 到底指向谁</font></h3> <p>曾经在面试阿里某重点部门时，面试官从多个角度考察过我对 <code>this</code> 的理解：全局环境下的<code>this</code>、箭头函数的 <code>this</code>、构造函数的 <code>this</code>、<code>this</code> 的显隐性和优先级，等等。尽管我能一一作答，可是最后的问题：<strong>请用一句话总结 <code>this</code> 的指向，注意只用一句话。</strong> 我却犯难了。</p> <p>有一种广泛流传的说法是：</p> <blockquote><p>谁调用它，<code>this</code> 就指向谁。</p></blockquote> <p>也就是说，<code>this</code> 的指向是在调用时确定的。这么说没有太大的问题，可是并不全面。面试官要求我用更加规范的语言进行总结，那么他到底在等什么样的回答呢？</p> <p>我们还要回到 JavaScript 中一个最基本的概念分析——<strong>执行上下文</strong>，这个概念，我们会在下一讲《老司机也会在闭包相关知识点翻车》中进行扩展。</p> <p>事实上，调用函数会创建新的属于函数自身的执行上下文。执行上下文的调用创建阶段会决定 <code>this</code> 的指向。到此，我们可以得出的一个结论：</p> <div style="color:#024727;background:#f9f9f9;"><p style="padding:10px;"><code>this</code> 的指向，是在调用函数时根据执行上下文所动态确定的。</p></div> <p>具体环节和规则，可以先“死记硬背”以下几条规律，后面再慢慢一一分析：</p> <ul><li>在函数体中，简单调用该函数时（非显式/隐式绑定下），严格模式下 <code>this</code> 绑定到 <code>undefined</code>，否则绑定到全局对象 <code>window</code>／<code>global</code>；</li> <li>一般构造函数 <code>new</code> 调用，绑定到新创建的对象上；</li> <li>一般由 <code>call</code>/<code>apply</code>/<code>bind</code> 方法显式调用，绑定到指定参数的对象上；</li> <li>一般由上下文对象调用，绑定在该对象上；</li> <li>箭头函数中，根据外层上下文绑定的 <code>this</code> 决定 <code>this</code> 指向。</li></ul> <p>当然，真实环境多样，我们来逐一梳理。</p> <blockquote><p><a href="http://gitbook.cn/m/mazi/comp/column?columnId=5c91c813968b1d64b1e08fde&amp;utm_source=hcsd001" target="_blank" rel="noopener noreferrer">点击了解更多《前端开发核心知识进阶》<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></blockquote> <h3 id="实战例题分析"><a href="#实战例题分析" class="header-anchor">#</a> <font color="13aa6c">实战例题分析</font></h3> <h4 id="例题组合-1：全局环境下的-this"><a href="#例题组合-1：全局环境下的-this" class="header-anchor">#</a> 例题组合 1：全局环境下的 this</h4> <p>这种情况相对简单直接，函数在浏览器全局环境中被简单调用，非严格模式下 <code>this</code> 指向 <code>window</code>；在 <code>use strict</code> 指明严格模式的情况下就是 <code>undefined</code>。我们来看例题，请描述打印结果：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token operator">&lt;</span>span <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;hljs-function&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span>span <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;hljs-keyword&quot;</span><span class="token operator">&gt;</span><span class="token keyword">function</span><span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span>¨<span class="token constant">NBSP</span><span class="token punctuation">;</span><span class="token operator">&lt;</span>span <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;hljs-title&quot;</span><span class="token operator">&gt;</span>f1<span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span> <span class="token punctuation">(</span><span class="token operator">&lt;</span>span <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;hljs-params&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span><span class="token punctuation">)</span> <span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span><span class="token punctuation">{</span>
    <span class="token operator">&lt;</span>span <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;hljs-built_in&quot;</span><span class="token operator">&gt;</span>console<span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token operator">&lt;</span>span <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;hljs-keyword&quot;</span><span class="token operator">&gt;</span><span class="token keyword">this</span><span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token operator">&lt;</span>span <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;hljs-function&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span>span <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;hljs-keyword&quot;</span><span class="token operator">&gt;</span><span class="token keyword">function</span><span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>span <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;hljs-title&quot;</span><span class="token operator">&gt;</span>f2<span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span> <span class="token punctuation">(</span><span class="token operator">&lt;</span>span <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;hljs-params&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span><span class="token punctuation">)</span> <span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span><span class="token punctuation">{</span>
<span class="token operator">&lt;</span>span <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;hljs-meta&quot;</span><span class="token operator">&gt;</span>    <span class="token string">'use strict'</span><span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>span <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;hljs-built_in&quot;</span><span class="token operator">&gt;</span>console<span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token operator">&lt;</span>span <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;hljs-keyword&quot;</span><span class="token operator">&gt;</span><span class="token keyword">this</span><span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token function">f1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;</span>span <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;hljs-comment&quot;</span><span class="token operator">&gt;</span><span class="token comment">// window&lt;/span&gt;</span>
<span class="token function">f2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;</span>span <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;hljs-comment&quot;</span><span class="token operator">&gt;</span><span class="token comment">// undefined&lt;/span&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>这样的题目比较基础，但是需要候选人格外注意其变种，请再看一道题目：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>&lt;span class=&quot;hljs-keyword&quot;&gt;const&lt;/span&gt; foo = {
    &lt;span class=&quot;hljs-attr&quot;&gt;bar&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;10&lt;/span&gt;,
    &lt;span class=&quot;hljs-attr&quot;&gt;fn&lt;/span&gt;: &lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;/span&gt;) &lt;/span&gt;{
       &lt;span class=&quot;hljs-built_in&quot;&gt;console&lt;/span&gt;.log(&lt;span class=&quot;hljs-keyword&quot;&gt;this&lt;/span&gt;)
       &lt;span class=&quot;hljs-built_in&quot;&gt;console&lt;/span&gt;.log(&lt;span class=&quot;hljs-keyword&quot;&gt;this&lt;/span&gt;.bar)
    }
}
&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; fn1 = foo.fn
fn1()
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>这里 <code>this</code> 仍然指向的是 <code>window</code>。虽然 <code>fn</code> 函数在 <code>foo</code> 对象中作为方法被引用，但是在赋值给 <code>fn1</code> 之后，<code>fn1</code> 的执行仍然是在 <code>window</code> 的全局环境中。因此输出 <code>window</code> 和 <code>undefined</code>，它们相当于：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>&lt;span class=&quot;hljs-built_in&quot;&gt;console&lt;/span&gt;.log(&lt;span class=&quot;hljs-built_in&quot;&gt;window&lt;/span&gt;)
&lt;span class=&quot;hljs-built_in&quot;&gt;console&lt;/span&gt;.log(&lt;span class=&quot;hljs-built_in&quot;&gt;window&lt;/span&gt;.bar)
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>还是上面这道题目，如果调用改变为：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>&lt;span class=&quot;hljs-keyword&quot;&gt;const&lt;/span&gt; foo = {
    &lt;span class=&quot;hljs-attr&quot;&gt;bar&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;10&lt;/span&gt;,
    &lt;span class=&quot;hljs-attr&quot;&gt;fn&lt;/span&gt;: &lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;/span&gt;) &lt;/span&gt;{
       &lt;span class=&quot;hljs-built_in&quot;&gt;console&lt;/span&gt;.log(&lt;span class=&quot;hljs-keyword&quot;&gt;this&lt;/span&gt;)
       &lt;span class=&quot;hljs-built_in&quot;&gt;console&lt;/span&gt;.log(&lt;span class=&quot;hljs-keyword&quot;&gt;this&lt;/span&gt;.bar)
    }
}
foo.fn()
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>将会输出：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>{&lt;span class=&quot;hljs-attribute&quot;&gt;bar&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;10&lt;/span&gt;, fn: ƒ}
10
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>因为这个时候 <code>this</code> 指向的是最后调用它的对象，在 <code>foo.fn()</code> 语句中 <code>this</code> 指向 <code>foo</code> 对象。请记住：</p> <div style="color:#024727;background:#f9f9f9;"><p style="padding:10px;">在执行函数时，如果函数中的 <code>this</code> 是被上一级的对象所调用，那么 <code>this</code> 指向的就是上一级的对象；否则指向全局环境。</p></div> <h4 id="例题组合-2：上下文对象调用中的-this"><a href="#例题组合-2：上下文对象调用中的-this" class="header-anchor">#</a> 例题组合 2：上下文对象调用中的 this</h4> <p>如上结论，面对下题时我们便不再困惑：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>&lt;span class=&quot;hljs-keyword&quot;&gt;const&lt;/span&gt; student = {
    &lt;span class=&quot;hljs-attr&quot;&gt;name&lt;/span&gt;: &lt;span class=&quot;hljs-string&quot;&gt;'Lucas'&lt;/span&gt;,
    &lt;span class=&quot;hljs-attr&quot;&gt;fn&lt;/span&gt;: &lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;/span&gt;) &lt;/span&gt;{
        &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;this&lt;/span&gt;
    }
}
&lt;span class=&quot;hljs-built_in&quot;&gt;console&lt;/span&gt;.log(student.fn() === student)
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>最终结果将会返回 <code>true</code>。</p> <p>当存在更复杂的调用关系时，请看例题：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>&lt;span class=&quot;hljs-keyword&quot;&gt;const&lt;/span&gt; person = {
    &lt;span class=&quot;hljs-attr&quot;&gt;name&lt;/span&gt;: &lt;span class=&quot;hljs-string&quot;&gt;'Lucas'&lt;/span&gt;,
    &lt;span class=&quot;hljs-attr&quot;&gt;brother&lt;/span&gt;: {
        &lt;span class=&quot;hljs-attr&quot;&gt;name&lt;/span&gt;: &lt;span class=&quot;hljs-string&quot;&gt;'Mike'&lt;/span&gt;,
        &lt;span class=&quot;hljs-attr&quot;&gt;fn&lt;/span&gt;: &lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;/span&gt;) &lt;/span&gt;{
            &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;this&lt;/span&gt;.name
        }
    }
}
&lt;span class=&quot;hljs-built_in&quot;&gt;console&lt;/span&gt;.log(person.brother.fn())
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>在这种嵌套的关系中，<code>this</code> 指向<strong>最后</strong>调用它的对象，因此输出将会是：<code>Mike</code>。</p> <p>到此，<code>this</code> 的上下文对象调用已经理解得比较清楚了。我们再看一道更高阶的题目：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>&lt;span class=&quot;hljs-keyword&quot;&gt;const&lt;/span&gt; o1 = {
    &lt;span class=&quot;hljs-attr&quot;&gt;text&lt;/span&gt;: &lt;span class=&quot;hljs-string&quot;&gt;'o1'&lt;/span&gt;,
    &lt;span class=&quot;hljs-attr&quot;&gt;fn&lt;/span&gt;: &lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;/span&gt;) &lt;/span&gt;{
        &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;this&lt;/span&gt;.text
    }
}
&lt;span class=&quot;hljs-keyword&quot;&gt;const&lt;/span&gt; o2 = {
    &lt;span class=&quot;hljs-attr&quot;&gt;text&lt;/span&gt;: &lt;span class=&quot;hljs-string&quot;&gt;'o2'&lt;/span&gt;,
    &lt;span class=&quot;hljs-attr&quot;&gt;fn&lt;/span&gt;: &lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;/span&gt;) &lt;/span&gt;{
        &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; o1.fn()
    }
}
&lt;span class=&quot;hljs-keyword&quot;&gt;const&lt;/span&gt; o3 = {
    &lt;span class=&quot;hljs-attr&quot;&gt;text&lt;/span&gt;: &lt;span class=&quot;hljs-string&quot;&gt;'o3'&lt;/span&gt;,
    &lt;span class=&quot;hljs-attr&quot;&gt;fn&lt;/span&gt;: &lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;/span&gt;) &lt;/span&gt;{
        &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; fn = o1.fn
        &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; fn()
    }
}

&lt;span class=&quot;hljs-built_in&quot;&gt;console&lt;/span&gt;.log(o1.fn())
&lt;span class=&quot;hljs-built_in&quot;&gt;console&lt;/span&gt;.log(o2.fn())
&lt;span class=&quot;hljs-built_in&quot;&gt;console&lt;/span&gt;.log(o3.fn())
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><p>答案是：<code>o1</code>、<code>o1</code>、<code>undefined</code>，你答对了吗？</p> <p>我们来一一分析。</p> <ul><li>第一个 <code>console</code> 最简单，<code>o1</code> 没有问题。难点在第二个和第三个上面，关键还是看调用 <code>this</code> 的那个函数。</li> <li>第二个 <code>console</code> 的 <code>o2.fn()</code>，最终还是调用 <code>o1.fn()</code>，因此答案仍然是 <code>o1</code>。</li> <li>最后一个，在进行 <code>var fn = o1.fn</code> 赋值之后，是“裸奔”调用，因此这里的 <code>this</code> 指向 <code>window</code>，答案当然是 <code>undefined</code>。</li></ul> <p>如果面试者回答顺利，可以紧接着追问，如果我们需要让：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>&lt;span class=&quot;hljs-selector-tag&quot;&gt;console&lt;/span&gt;&lt;span class=&quot;hljs-selector-class&quot;&gt;.log&lt;/span&gt;(&lt;span class=&quot;hljs-selector-tag&quot;&gt;o2&lt;/span&gt;&lt;span class=&quot;hljs-selector-class&quot;&gt;.fn&lt;/span&gt;())
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>输出 <code>o2</code>，该怎么做？</p> <p>一般开发者可能会想到使用 <code>bind/call/apply</code> 来对 <code>this</code> 的指向进行干预，这确实是一种思路。但是我接着问，<strong>如果不能使用 <code>bind/call/apply</code>，有别的方法吗？</strong></p> <p>这样可以考察候选人基础掌握的深度以及随机应变的思维能力。答案为：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>&lt;span class=&quot;hljs-keyword&quot;&gt;const&lt;/span&gt; o1 = {
    &lt;span class=&quot;hljs-attr&quot;&gt;text&lt;/span&gt;: &lt;span class=&quot;hljs-string&quot;&gt;'o1'&lt;/span&gt;,
    &lt;span class=&quot;hljs-attr&quot;&gt;fn&lt;/span&gt;: &lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;/span&gt;) &lt;/span&gt;{
        &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;this&lt;/span&gt;.text
    }
}
&lt;span class=&quot;hljs-keyword&quot;&gt;const&lt;/span&gt; o2 = {
    &lt;span class=&quot;hljs-attr&quot;&gt;text&lt;/span&gt;: &lt;span class=&quot;hljs-string&quot;&gt;'o2'&lt;/span&gt;,
    &lt;span class=&quot;hljs-attr&quot;&gt;fn&lt;/span&gt;: o1.fn
}

&lt;span class=&quot;hljs-built_in&quot;&gt;console&lt;/span&gt;.log(o2.fn())
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>还是应用那个重要的结论：<code>this</code> 指向<strong>最后</strong>调用它的对象，在 <code>fn</code> 执行时，挂到 <code>o2</code> 对象上即可，我们提前进行了赋值操作。</p> <h4 id="例题组合-3：bind-call-apply-改变-this-指向"><a href="#例题组合-3：bind-call-apply-改变-this-指向" class="header-anchor">#</a> 例题组合 3：bind/call/apply 改变 this 指向</h4> <p>上文提到 bind/call/apply，在这个概念上，比较常见的基础考察点是：<strong>bind/call/apply 三个方法的区别。</strong></p> <p>这样的问题相对基础，我们直接上答案：一句话总结，他们都是用来改变相关函数 <code>this</code> 指向的，但是 <code>call/apply</code> 是直接进行相关函数调用；<code>bind</code> 不会执行相关函数，而是返回一个新的函数，这个新的函数已经自动绑定了新的 <code>this</code> 指向，开发者需要手动调用即可。再具体的 <code>call/apply</code> 之间的区别主要体现在参数设定上，这里不再展开。</p> <p>用代码来总结：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>&lt;span class=&quot;hljs-keyword&quot;&gt;const&lt;/span&gt; target = {}
fn.call(target, &lt;span class=&quot;hljs-string&quot;&gt;'arg1'&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;'arg2'&lt;/span&gt;)
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>相当于：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>&lt;span class=&quot;hljs-keyword&quot;&gt;const&lt;/span&gt; target = {}
fn.apply(target, [&lt;span class=&quot;hljs-string&quot;&gt;'arg1'&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;'arg2'&lt;/span&gt;])
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>相当于：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>&lt;span class=&quot;hljs-keyword&quot;&gt;const&lt;/span&gt; target = {}
fn.bind(target, &lt;span class=&quot;hljs-string&quot;&gt;'arg1'&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;'arg2'&lt;/span&gt;)()
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>具体基础用法这里不再科普，如果读者尚不清楚，需要自己补充一下知识点。</p> <p>我们来看一道例题分析：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>&lt;span class=&quot;hljs-keyword&quot;&gt;const&lt;/span&gt; foo = {
    &lt;span class=&quot;hljs-attr&quot;&gt;name&lt;/span&gt;: &lt;span class=&quot;hljs-string&quot;&gt;'lucas'&lt;/span&gt;,
    &lt;span class=&quot;hljs-attr&quot;&gt;logName&lt;/span&gt;: &lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;/span&gt;) &lt;/span&gt;{
        &lt;span class=&quot;hljs-built_in&quot;&gt;console&lt;/span&gt;.log(&lt;span class=&quot;hljs-keyword&quot;&gt;this&lt;/span&gt;.name)
    }
}
&lt;span class=&quot;hljs-keyword&quot;&gt;const&lt;/span&gt; bar = {
    &lt;span class=&quot;hljs-attr&quot;&gt;name&lt;/span&gt;: &lt;span class=&quot;hljs-string&quot;&gt;'mike'&lt;/span&gt;
}
&lt;span class=&quot;hljs-built_in&quot;&gt;console&lt;/span&gt;.log(foo.logName.call(bar))
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>将会输出 <code>mike</code>，这不难理解。<strong>但是对 call/apply/bind 的高级考察往往会结合构造函数以及组合式实现继承。实现继承的话题，我们会单独讲到。构造函数的使用案例，我们结合接下来的例题组合进行分析。</strong></p> <h4 id="例题组合-4：构造函数和-this"><a href="#例题组合-4：构造函数和-this" class="header-anchor">#</a> 例题组合 4：构造函数和 this</h4> <p>这方面最直接的例题为：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>&lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;hljs-title&quot;&gt;Foo&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;/span&gt;) &lt;/span&gt;{
    &lt;span class=&quot;hljs-keyword&quot;&gt;this&lt;/span&gt;.bar = &lt;span class=&quot;hljs-string&quot;&gt;&quot;Lucas&quot;&lt;/span&gt;
}
&lt;span class=&quot;hljs-keyword&quot;&gt;const&lt;/span&gt; instance = &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; Foo()
&lt;span class=&quot;hljs-built_in&quot;&gt;console&lt;/span&gt;.log(instance.bar)
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>答案将会输出 <code>Lucas</code>。但是这样的场景往往伴随着下一个问题：**<code>new</code> 操作符调用构造函数，具体做了什么？**以下供参考：</p> <ul><li>创建一个新的对象；</li> <li>将构造函数的 <code>this</code> 指向这个新对象；</li> <li>为这个对象添加属性、方法等；</li> <li>最终返回新对象。</li></ul> <p>以上过程，也可以用代码表述：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; obj  = {}
obj.__proto__ = Foo.prototype
Foo.call(obj)
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>当然，这里对 <code>new</code> 的模拟是一个简单基本版的，更复杂的情况我们会在原型、原型链相关的第2-5课《面向对象和原型——永不过时的话题》中讲述。</p> <p>需要指出的是，如果在构造函数中出现了显式 <code>return</code> 的情况，那么需要注意分为两种场景：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>&lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;hljs-title&quot;&gt;Foo&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;/span&gt;)&lt;/span&gt;{
    &lt;span class=&quot;hljs-keyword&quot;&gt;this&lt;/span&gt;.user = &lt;span class=&quot;hljs-string&quot;&gt;&quot;Lucas&quot;&lt;/span&gt;
    &lt;span class=&quot;hljs-keyword&quot;&gt;const&lt;/span&gt; o = {}
    &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; o
}
&lt;span class=&quot;hljs-keyword&quot;&gt;const&lt;/span&gt; instance = &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; Foo()
&lt;span class=&quot;hljs-built_in&quot;&gt;console&lt;/span&gt;.log(instance.user)
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>将会输出 <code>undefined</code>，此时 <code>instance</code> 是返回的空对象 <code>o</code>。</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>&lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;hljs-title&quot;&gt;Foo&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;/span&gt;)&lt;/span&gt;{
    &lt;span class=&quot;hljs-keyword&quot;&gt;this&lt;/span&gt;.user = &lt;span class=&quot;hljs-string&quot;&gt;&quot;Lucas&quot;&lt;/span&gt;
    &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;
}
&lt;span class=&quot;hljs-keyword&quot;&gt;const&lt;/span&gt; instance = &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; Foo()
&lt;span class=&quot;hljs-built_in&quot;&gt;console&lt;/span&gt;.log(instance.user)
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>将会输出 <code>Lucas</code>，也就是说此时 <code>instance</code> 是返回的目标对象实例 <code>this</code>。</p> <div style="color:#024727;background:#f9f9f9;"><p style="padding:10px;"><strong>结论：</strong>如果构造函数中显式返回一个值，且返回的是一个对象，那么 <code>this</code> 就指向这个返回的对象；如果返回的不是一个对象，那么 <code>this</code> 仍然指向实例。</p></div> <h4 id="例题组合-5：箭头函数中的-this-指向"><a href="#例题组合-5：箭头函数中的-this-指向" class="header-anchor">#</a> 例题组合 5：箭头函数中的 this 指向</h4> <p>首先我们再来温习一下相关结论。</p> <div style="color:#024727;background:#f9f9f9;"><p style="padding:10px;"><strong>结论：</strong>箭头函数使用 <code>this</code> 不适用以上标准规则，而是根据外层（函数或者全局）上下文来决定。</p></div> <p>来看题目：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>&lt;span class=&quot;hljs-keyword&quot;&gt;const&lt;/span&gt; foo = {  
    &lt;span class=&quot;hljs-attr&quot;&gt;fn&lt;/span&gt;: &lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; (&lt;span class=&quot;hljs-params&quot;&gt;&lt;/span&gt;) &lt;/span&gt;{  
        setTimeout(&lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;/span&gt;) &lt;/span&gt;{  
            &lt;span class=&quot;hljs-built_in&quot;&gt;console&lt;/span&gt;.log(&lt;span class=&quot;hljs-keyword&quot;&gt;this&lt;/span&gt;)
        })
    }  
}  
&lt;span class=&quot;hljs-built_in&quot;&gt;console&lt;/span&gt;.log(foo.fn())
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>这道题中，<code>this</code> 出现在 <code>setTimeout()</code> 中的匿名函数里，因此 <code>this</code> 指向 <code>window</code> 对象。如果需要 <code>this</code> 指向 <code>foo</code> 这个 object 对象，可以巧用箭头函数解决：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>&lt;span class=&quot;hljs-keyword&quot;&gt;const&lt;/span&gt; foo = {  
    &lt;span class=&quot;hljs-attr&quot;&gt;fn&lt;/span&gt;: &lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; (&lt;span class=&quot;hljs-params&quot;&gt;&lt;/span&gt;) &lt;/span&gt;{  
        setTimeout(&lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-params&quot;&gt;()&lt;/span&gt; =&gt;&lt;/span&gt; {  
            &lt;span class=&quot;hljs-built_in&quot;&gt;console&lt;/span&gt;.log(&lt;span class=&quot;hljs-keyword&quot;&gt;this&lt;/span&gt;)
        })
    }  
} 
&lt;span class=&quot;hljs-built_in&quot;&gt;console&lt;/span&gt;.log(foo.fn())

&lt;span class=&quot;hljs-comment&quot;&gt;// {fn: ƒ}&lt;/span&gt;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>单纯箭头函数中的 <code>this</code> 非常简单，<strong>但是综合所有情况，结合 <code>this</code> 的优先级考察，这时候 <code>this</code> 指向并不好确定。请继续阅读。</strong></p> <h4 id="例题组合-6：this-优先级相关"><a href="#例题组合-6：this-优先级相关" class="header-anchor">#</a> 例题组合 6：this 优先级相关</h4> <p>我们常常把通过 <code>call</code>、<code>apply</code>、<code>bind</code>、<code>new</code> 对 <code>this</code> 绑定的情况称为显式绑定；根据调用关系确定的 <code>this</code> 指向称为隐式绑定。</p> <p><strong>那么显式绑定和隐式绑定谁的优先级更高呢？</strong></p> <p>请看例题：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>&lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;hljs-title&quot;&gt;foo&lt;/span&gt; (&lt;span class=&quot;hljs-params&quot;&gt;a&lt;/span&gt;) &lt;/span&gt;{
    &lt;span class=&quot;hljs-built_in&quot;&gt;console&lt;/span&gt;.log(&lt;span class=&quot;hljs-keyword&quot;&gt;this&lt;/span&gt;.a)
}

&lt;span class=&quot;hljs-keyword&quot;&gt;const&lt;/span&gt; obj1 = {
    &lt;span class=&quot;hljs-attr&quot;&gt;a&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;,
    &lt;span class=&quot;hljs-attr&quot;&gt;foo&lt;/span&gt;: foo
}

&lt;span class=&quot;hljs-keyword&quot;&gt;const&lt;/span&gt; obj2 = {
    &lt;span class=&quot;hljs-attr&quot;&gt;a&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;,
    &lt;span class=&quot;hljs-attr&quot;&gt;foo&lt;/span&gt;: foo
}

obj1.foo.call(obj2)
obj2.foo.call(obj1)
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><p>输出分别为 2、1，也就是说 <code>call</code>、<code>apply</code> 的显式绑定一般来说优先级更高。</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>&lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;hljs-title&quot;&gt;foo&lt;/span&gt; (&lt;span class=&quot;hljs-params&quot;&gt;a&lt;/span&gt;) &lt;/span&gt;{
    &lt;span class=&quot;hljs-keyword&quot;&gt;this&lt;/span&gt;.a = a
}

&lt;span class=&quot;hljs-keyword&quot;&gt;const&lt;/span&gt; obj1 = {}

&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; bar = foo.bind(obj1)
bar(&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;)
&lt;span class=&quot;hljs-built_in&quot;&gt;console&lt;/span&gt;.log(obj1.a)
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>上述代码通过 <code>bind</code>，将 <code>bar</code> 函数中的 <code>this</code> 绑定为 <code>obj1</code> 对象。执行 <code>bar(2)</code> 后，<code>obj1.a</code> 值为 2。即经过 <code>bar(2)</code> 执行后，<code>obj1</code> 对象为：<code>{a: 2}</code>。</p> <p>当再使用 <code>bar</code> 作为构造函数时：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; baz = &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; bar(&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;)
&lt;span class=&quot;hljs-built_in&quot;&gt;console&lt;/span&gt;.log(baz.a)
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>将会输出 3。我们看 <code>bar</code> 函数本身是通过 <code>bind</code> 方法构造的函数，其内部已经对将 <code>this</code> 绑定为 <code>obj1</code>，它再作为构造函数，通过 <code>new</code> 调用时，返回的实例已经与 <code>obj1</code> 解绑。 也就是说：</p> <p><strong><code>new</code> 绑定修改了 <code>bind</code> 绑定中的 <code>this</code>，因此 <code>new</code> 绑定的优先级比显式 <code>bind</code> 绑定更高。</strong></p> <p>我们再看：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>&lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;hljs-title&quot;&gt;foo&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;/span&gt;) &lt;/span&gt;{
    &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-params&quot;&gt;a&lt;/span&gt; =&gt;&lt;/span&gt; {
        &lt;span class=&quot;hljs-built_in&quot;&gt;console&lt;/span&gt;.log(&lt;span class=&quot;hljs-keyword&quot;&gt;this&lt;/span&gt;.a)
    };
}

&lt;span class=&quot;hljs-keyword&quot;&gt;const&lt;/span&gt; obj1 = {
    &lt;span class=&quot;hljs-attr&quot;&gt;a&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;
}

&lt;span class=&quot;hljs-keyword&quot;&gt;const&lt;/span&gt; obj2 = {
    &lt;span class=&quot;hljs-attr&quot;&gt;a&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;
}

&lt;span class=&quot;hljs-keyword&quot;&gt;const&lt;/span&gt; bar = foo.call(obj1)
&lt;span class=&quot;hljs-built_in&quot;&gt;console&lt;/span&gt;.log(bar.call(obj2))
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><p>将会输出 2。由于 <code>foo()</code> 的 <code>this</code> 绑定到 <code>obj1</code>，<code>bar</code>（引用箭头函数）的 <code>this</code> 也会绑定到 <code>obj1</code>，箭头函数的绑定无法被修改。</p> <p>如果将 <code>foo</code> 完全写成箭头函数的形式：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; a = &lt;span class=&quot;hljs-number&quot;&gt;123&lt;/span&gt;
&lt;span class=&quot;hljs-keyword&quot;&gt;const&lt;/span&gt; foo = &lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-params&quot;&gt;()&lt;/span&gt; =&gt;&lt;/span&gt; a =&gt; {
    &lt;span class=&quot;hljs-built_in&quot;&gt;console&lt;/span&gt;.log(&lt;span class=&quot;hljs-keyword&quot;&gt;this&lt;/span&gt;.a)
}

&lt;span class=&quot;hljs-keyword&quot;&gt;const&lt;/span&gt; obj1 = {
    &lt;span class=&quot;hljs-attr&quot;&gt;a&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;
}

&lt;span class=&quot;hljs-keyword&quot;&gt;const&lt;/span&gt; obj2 = {
    &lt;span class=&quot;hljs-attr&quot;&gt;a&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;
}

&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; bar = foo.call(obj1)
&lt;span class=&quot;hljs-built_in&quot;&gt;console&lt;/span&gt;.log(bar.call(obj2))
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><p>将会输出 <code>123</code>。</p> <p>这里我再“抖个机灵”，仅仅将上述代码的第一处变量 <code>a</code> 的赋值改为：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>&lt;span class=&quot;hljs-keyword&quot;&gt;const&lt;/span&gt; a = &lt;span class=&quot;hljs-number&quot;&gt;123&lt;/span&gt;
&lt;span class=&quot;hljs-keyword&quot;&gt;const&lt;/span&gt; foo = &lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-params&quot;&gt;()&lt;/span&gt; =&gt;&lt;/span&gt; a =&gt; {
    &lt;span class=&quot;hljs-built_in&quot;&gt;console&lt;/span&gt;.log(&lt;span class=&quot;hljs-keyword&quot;&gt;this&lt;/span&gt;.a)
}

&lt;span class=&quot;hljs-keyword&quot;&gt;const&lt;/span&gt; obj1 = {
    &lt;span class=&quot;hljs-attr&quot;&gt;a&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;
}

&lt;span class=&quot;hljs-keyword&quot;&gt;const&lt;/span&gt; obj2 = {
    &lt;span class=&quot;hljs-attr&quot;&gt;a&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;
}

&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; bar = foo.call(obj1)
&lt;span class=&quot;hljs-built_in&quot;&gt;console&lt;/span&gt;.log(bar.call(obj2))
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><p>答案将会输出为 <code>undefined</code>，原因是因为使用 <code>const</code> 声明的变量不会挂载到 <code>window</code> 全局对象当中。因此 <code>this</code> 指向 <code>window</code> 时，自然也找不到 <code>a</code> 变量了。关于 <code>const</code> 或者 <code>let</code> 等声明变量的方式不再本课的主题当中，我们后续也将专门进行介绍。</p> <p>到这里，读者是否有“融会贯通”的感觉了呢？如果还有困惑，也不要灰心。进阶的关键就是基础，基础需要反复学习，“死记硬背”后才能慢慢体会。</p> <h3 id="开放例题分析"><a href="#开放例题分析" class="header-anchor">#</a> <font color="13aa6c">开放例题分析</font></h3> <p>不知道实战例题分析是否已经把你绕晕了。事实上，<code>this</code> 的指向涉及的规范繁多，优先级也较为混乱。<strong>刻意刁难并不是很好的面试做法，一些细节候选人如果没有记住也不是太大的问题。作为面试官，我往往会另辟蹊径，出一些开放性题目。</strong></p> <p>其中，最典型的一道题目为：<strong>实现一个 <code>bind</code> 函数。</strong></p> <p>作为面试者，我也曾经在头条的面试流程中被问到模拟 <code>bind</code>。这道题并不新鲜，部分读者也会有自己的解答思路，而且社区上关于原生 <code>bind</code> 的研究也很多。但是，我们这里想强调的是，可能有一些细节被大家忽略了。在回答时，我往往先实现一个初级版本，然后根据 ES5-shim 源码进一步说明。</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>&lt;span class=&quot;hljs-built_in&quot;&gt;Function&lt;/span&gt;.prototype.bind = &lt;span class=&quot;hljs-built_in&quot;&gt;Function&lt;/span&gt;.prototype.bind || &lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; (&lt;span class=&quot;hljs-params&quot;&gt;context&lt;/span&gt;) &lt;/span&gt;{
    &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; me = &lt;span class=&quot;hljs-keyword&quot;&gt;this&lt;/span&gt;;
    &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; args = &lt;span class=&quot;hljs-built_in&quot;&gt;Array&lt;/span&gt;.prototype.slice.call(&lt;span class=&quot;hljs-built_in&quot;&gt;arguments&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;);
    &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;hljs-title&quot;&gt;bound&lt;/span&gt; (&lt;span class=&quot;hljs-params&quot;&gt;&lt;/span&gt;) &lt;/span&gt;{
        &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; innerArgs = &lt;span class=&quot;hljs-built_in&quot;&gt;Array&lt;/span&gt;.prototype.slice.call(&lt;span class=&quot;hljs-built_in&quot;&gt;arguments&lt;/span&gt;);
        &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; finalArgs = args.concat(innerArgs);
        &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; me.apply(context, finalArgs);
    }
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>这样的实现已经非常不错了。但是，就如同之前 <code>this</code> 优先级分析所示：<strong><code>bind</code> 返回的函数如果作为构造函数，搭配 <code>new</code> 关键字出现的话，我们的绑定 <code>this</code> 就需要“被忽略”。</strong></p> <p>为了实现这样的规则，开发者就应该需要考虑如何区分这两种调用方式。<strong>具体来讲 <code>bound</code> 函数中就要进行 <code>this instanceof</code> 的判断。</strong></p> <p>另外一个细节是，函数具有 <code>length</code> 属性，表示形参的个数。上述实现方式形参的个数显然会失真。我们的实现就需要对 <code>length</code> 属性进行还原。可是<strong>难点在于：函数的 <code>length</code> 属性值是不可重写的。</strong></p> <p>这样的内容一般属于“超纲”范畴，但在面试中能够很好地体现面试者平时的积累，以及对源码的阅读和思考，显然是加分项。对此进一步的理解，读者可参考我的原创文章：<a href="https://www.jianshu.com/p/6958f99db769" target="_blank" rel="noopener noreferrer">从一道面试题，到“我可能看了假源码”<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>。这篇文章发表于 2017 年年初，可以说是现在很多研究 <code>bind</code> 相关文章的启蒙。</p> <h3 id="总结"><a href="#总结" class="header-anchor">#</a> <font color="13aa6c">总结</font></h3> <p>通过本课的学习，我们看到 <code>this</code> 纷繁多象，确实不容易彻底掌握。本节尽可能系统地进行讲解、说明，例题尽可能地覆盖更多 case。与此同时，需要读者在阅读之外继续进行消化与吸收。只有“记死”，才能“用活”。请读者随时关注课程，接下来会更新更多大家感兴趣的话题，让我们一起进步。</p> <blockquote><p><a href="http://gitbook.cn/m/mazi/comp/column?columnId=5c91c813968b1d64b1e08fde&amp;utm_source=hcsd001" target="_blank" rel="noopener noreferrer">点击了解更多《前端开发核心知识进阶》<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></blockquote> <h3 id="分享交流"><a href="#分享交流" class="header-anchor">#</a> <font color="13aa6c">分享交流</font></h3> <p>请大家留言分享开发实践中遇到的 <code>this</code> 相关的难忘 bug。阅读文章过程中有任何疑问随时可以跟其他小伙伴讨论，或者直接向作者 LucasHC 提问。<strong>你的分享不仅帮助他人，更会提升自己。</strong></p> <p>你也可以说说自己最想了解的主题，专栏内容会根据部分读者的意见和建议迭代和完善。</p> <p>此外，我们为本课程<strong>付费读者</strong>创建了《前端开发核心知识进阶》微信交流群，以方便更有针对性地讨论课程相关问题。（入群请到第 4 篇末尾添加 GitChat 小助手伽利略的微信，注明「前端核心」。）</p></div> <footer class="page-edit" style="display:none;"><!----> <!----></footer> <!----></main> <!----> <div style="display:none;" data-v-319dd33c data-v-319dd33c><div class="comments-wrapper" data-v-319dd33c><!----></div></div></div></div></div></div></div><div class="global-ui"><div class="back-to-ceiling" style="right:1rem;bottom:6rem;width:2.5rem;height:2.5rem;border-radius:.25rem;line-height:2.5rem;display:none;" data-v-a81d141e data-v-a81d141e><svg t="1574745035067" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5404" class="icon" data-v-a81d141e><path d="M526.60727968 10.90185116a27.675 27.675 0 0 0-29.21455937 0c-131.36607665 82.28402758-218.69155461 228.01873535-218.69155402 394.07834331a462.20625001 462.20625001 0 0 0 5.36959153 69.94390903c1.00431239 6.55289093-0.34802892 13.13561351-3.76865779 18.80351572-32.63518765 54.11355614-51.75690182 118.55860487-51.7569018 187.94566865a371.06718723 371.06718723 0 0 0 11.50484808 91.98906777c6.53300375 25.50556257 41.68394495 28.14064038 52.69160883 4.22606766 17.37162448-37.73630017 42.14135425-72.50938081 72.80769204-103.21549295 2.18761121 3.04276886 4.15646224 6.24463696 6.40373557 9.22774369a1871.4375 1871.4375 0 0 0 140.04691725 5.34970492 1866.36093723 1866.36093723 0 0 0 140.04691723-5.34970492c2.24727335-2.98310674 4.21612437-6.18497483 6.3937923-9.2178004 30.66633723 30.70611158 55.4360664 65.4791928 72.80769147 103.21549355 11.00766384 23.91457269 46.15860503 21.27949489 52.69160879-4.22606768a371.15156223 371.15156223 0 0 0 11.514792-91.99901164c0-69.36717486-19.13165746-133.82216804-51.75690182-187.92578088-3.42062944-5.66790279-4.76302748-12.26056868-3.76865837-18.80351632a462.20625001 462.20625001 0 0 0 5.36959269-69.943909c-0.00994388-166.08943902-87.32547796-311.81420293-218.6915546-394.09823051zM605.93803103 357.87693858a93.93749974 93.93749974 0 1 1-187.89594924 6.1e-7 93.93749974 93.93749974 0 0 1 187.89594924-6.1e-7z" p-id="5405" data-v-a81d141e></path><path d="M429.50777625 765.63860547C429.50777625 803.39355007 466.44236686 1000.39046097 512.00932183 1000.39046097c45.56695499 0 82.4922232-197.00623328 82.5015456-234.7518555 0-37.75494459-36.9345906-68.35043303-82.4922232-68.34111062-45.57627738-0.00932239-82.52019037 30.59548842-82.51086798 68.34111062z" p-id="5406" data-v-a81d141e></path></svg></div></div></div>
    <script src="/assets/js/app.33e6ee8c.js" defer></script><script src="/assets/js/3.fa5d4a69.js" defer></script><script src="/assets/js/1.5b517cee.js" defer></script><script src="/assets/js/17.19ee5edd.js" defer></script>
  </body>
</html>
